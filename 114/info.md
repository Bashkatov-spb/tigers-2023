## Strings, строки:

В JavaScript любые текстовые данные являются строками.

Для создания строк мы можем как напрямую присваивать переменной или константе строку.

```
// используем кавычки, экранирование
const home = 'Go to \'home\''

// перенос строк, спец символ \u2014 - дефис
const poem = 'Теперь моя пора:\x20я не люблю весны\nСкучна мне оттепель; вонь, грязь \u2014 весной я болен\nКровь бродит чувства, ум тоскою стеснены.\nСуровою зимой я более доволен\n\nА.С.Пушкин'; // стих в строке с переносом строк

// \x20 - в длине считает как 1 пробел
const space = 'Это\x20просто\x20строка\x20с\x20пробелами';

// 2020 :)
const year = 'Это \'\x20\u2020\x20\' такой спец. символ'

// шаблонные строки, интерполяция
const list = `Купить:
- молоко
- хлеб
- печенье
- сахар`;
```

## Получение символа строки (подстроки):

- Пример 1:

```
const str = 'длинное\x20слово';

console.log(str[5]); // обращаемся к 5-му индексу строки
console.log(str.charAt(5)); // ещё один варинат использования индекса, но если будет -1 или число выше длинны строки -> пустая строка
console.log(str.charAt(-1)); // пустая строка
console.log(str.charCodeAt(2)); // получаем код число, второго индекса
console.log(str​.​charCodeAt​(​2)); // докопировался! Нужно разобрать.
console.log(str.charCodeAt(4)); // 1085
```

- Пример 2:

```
const string = 'длинное\x20слово';

// условие проверка
if (string.charCodeAt(3) === string.charCodeAt(4)) {
  console.log('н = н');
} else {
  console.log(':)');
}
```

- Пример 3:

```
const bar = 'бар';

console.log(bar.toUpperCase()); // вся строка в верхнем регистре
console.log(bar[0].toUpperCase() + bar[1] + bar[2]); // первая буква в верхнем регистре

console.log(bar[0, 1, 2]); // если подаём несколько значений индексов, выводит последнее
```

## Методы строк:

- пример метода `trim()`:

```
// trim - обрезалка пробелов с начала и конца

const numStr = ' 8239208424 '

console.log(numStr);
console.log(numStr.trim());
```

- пример метода `repeat()`:

```
// repeat - повторяет строку заданое количество раз

const someWords = 'мало мало плохо';
const repeat = someWords.repeat(3);

console.log(repeat);
```

- пример метода `slice()`:

```
// slice - извлекает все символы до указанного индекса, не включая заданный индекс

const bar = 'bar'

// повышение регистра последнего символа в строке, независимо от длинны
console.log(bar.slice(0, bar.length - 1) + bar[bar.length - 1].toUpperCase())

// 'Bar' через нулевой индекс
console.log(bar[0].toUpperCase() + bar.slice(1))

const z = '12345'

// '5'
console.log(z[4]);

// '34'
console.log(z.slice(2, 4));

// начинаем с позиции 4 справа, а заканчиваем на позиции 1 справа
console.log(z.slice(-4, -1));

// начинаем с позиции 5 справа до конца
console.log(z.slice(-5))
```

- пример методов `indexOf()`/`lastIndexOf()`:

```
// indexOf - проверяет слово на заданные символ(-ы), при первом совпадении возвращает индекс

const str = 'Где-то здесь я спрятал JS';

// получаем значение последнего индекса, 24
console.log(str.length - 1);

// совпадение на 15-ом индексе
console.log(str.indexOf('спрятал'));

// совпадение на 13-ом индексе
console.log(str.indexOf('я'));

// lastIndexOf - аналог indexOf, но и инверсией проверки

// инверсия направления поиска, 18
console.log(str.lastIndexOf('я'));
```

- применение методов `replace()`/`replaceAll()`:

```
// replace - заменяет первое вхождение на нужное нам
// replaceAll - заменяет все вхождения на нужное нам

// исходная строка
const someText = 'Мало мало плохо';

// задаём что нужно заменить и то что будет после замены
console.log(someText.replace('Мало', 'спать'));

// замена всех символов на указанный нами
console.log(someText.replaceAll('o', '#'));

const moreSomeText = 'мало малО плохо';

// аналогия с replaceAll
console.log(moreSomeText.replace(/о/ig, '#'));
```

## Regular Expressions (регулярные выражения):

Формальный язык поиска, работающий с текстом и осуществляющий манипуляций с подстроками в тексте, основанный на использовании метасимволов

## Флаги в регулярных выражениях:

- i - `ignore` (с этим флагом поиск не зависит от регистра: нет разницы между `A` и `a`)
- g - `global` (с этим флагом поиск ищет все совпадения, без него – только первое)
- m - `multiline` (многострочный режим)

## Наборы метасимволов:

- . (точка) - любой символ
- [] - диапазон символов или любой из символов
- ^ - начало строки
- [^] - всё кроме
- $ - конец строки
- \b - граница слова
- \ - экранирование (применяется для специальных символов, применяется перед символом)
- \w - любая буква
- \w+ - любое количество букв
- \W - всё кроме букв и цифр
- \d - любая цифра (или [0-9])
- \D - всё кроме цифр
- \s - пробелы
- \S - всё кроме пробелов
- () - скобочная группа

## Квантификаторы в регулярных выражениях:

- `{n}` - описывает количество повторений в шаблоне, примеры:

```
// \d{4} -> \d\d\d\d
console.log('2022'.replace(/\d{4}/, '****')); // '****'

// \d{1,3} -> от 1 до 3 вхождений
console.log('2022'.replace(/\d{1,3}/, '****')); // '****2'

// \d{5,} -> от 5 и более
console.log('2022'.replace(/\d{5,}/, '****')); // '2022'
```

- `+` - один и более, примеры:

```
// \d+ -> от 1 и более
console.log('2022'.replace(/\d+/, '****')); // '****'
```

- `?` - ноль или один, то же самое, что и `{0,1}`

## Пример #1:

```
const example = 'мало Мало плохо'
const regExp = new RegExp('мало', 'gi') // первый параметр, то что будет заменяться, второй - флаг(и)
console.log(example.replace(regExp, '***')) // первым параметром отправили регулярное выражение, вторым на что меняем
```

## Пример #2:

```
const preview = 'Очередной пример строки 12345' // проверим вхождение любого символа, через [123]
console.log(preview.replace(/[а-яА-Я]/g, '#')) // все вхождения букв
console.log(preview.replace(/[оеи]/gi, '#')) // все вхождения и игнор регистра
console.log(preview.replace(/[15]/g, 'num')) // все вхождения в диапазоне 1 или 5
console.log(preview.replace(/[1-5]/g, '#')) // замена чисел в диапазоне от 1 до 5
```

## Пример #3:

```
const more = 'кол Коля воля волосы зол'
console.log(more.replace(/[взкд]ол/g, '***')) // все буквы ВЗКД, а окончание будет на ОЛ
```

## Пример #4:

```
const words = 'снег кот кайот ток капот'
console.log(words.replace(/ка?[пй]?от/g, '***')); // начало должно быть на К, A может быть (или не быть), после должно быть или П или Й (одна буква), и всё заканчивается на ОТ
```

## Пример #5:

```
const any = 'воротник, лом, река, вода, вторник, 8098ник23432'
console.log(any.replace(/[а-я]*ник/g, '***')) // работа с подстрокой "ник"
```

## Пример #6:

```
const double = 'молоккккооооо Молот молоко торт'
console.log(double.replace(/моло*[тк]*о*/gi, '*'))
```

## Пример #7:

```
const date = 'Август 1997 года'
console.log(date.replace(/[^\d]/ig, '*')) // замена всего кроме 1997, вариант 1
console.log(date.replace(/\D/ig, '*')) // замена всего кроме 1997, вариант 2
```

## Пример #8:

```
const age = '27 age ago'
console.log(age.replace(/\d/, '*')) // заменить первую цифру
```

## Пример #9:

```
const shampoo = 'Шампунь 3в1, за 300 рублей'
console.log(shampoo.replace(/\d.\d/, '4в1')) // Шампунь 4в1, за 300 рублей
console.log(shampoo.replace(/\d.\d/g, '4в1')) // Шампунь 4в1, за 4в1 рублей (как исправить?)
```

## Пример #10:

```
const space = ' Space! '
console.log(space.replace(/\s/g, '')) // удаление пробелов
console.log(space.replace(/\S/g, '*')) // замена всего, кроме пробелов
```

## Пример #11:

```
const word = 'Book, map, hook'

// находит слово из 4 букв, вариант 1
console.log(word.replace(/\w\w\w\w/g, 'Слово из 4 букв'));

// находит слово из 4 букв, вариант 2
console.log(word.replace(/\w{4}/g, 'Слово из 4 букв'));

// находит слово из 3 букв
console.log(word.replace(/\b...\b/g, 'Слово из 3 букв'));
```

## Пример #12:

```
const str = 'Elbrus Bootcamp';

// две скобочные группы, нумерация работает по порядку или имени
const regexp = /(\w+) (\w+)/;

console.log(str.replace(regexp, '$2 $1')); // Bootcamp Elbrus
```

## Пример #13:

```
// именование скобочной группы проходит в виде символов `<groupName>`
const dateRegexp = /(?<year>[0-9]{4})-(?<month>[0-9]{2})-(?<day>[0-9]{2})/;
const str = "2022-06-30";

const groups = str.match(dateRegexp).groups;

console.log(groups.year); // 2022
console.log(groups.month); // 06
console.log(groups.day); // 30
```

## Пример #14:

На основе файла `towns.txt` (http://города-россия.рф/alphabet.php), сформировать массив городов.

Начало строки `^`, конец строки `$`

## Полезные ссылки:

- Генераторы: https://regex101.com/ , https://uiregex.com/ru
- Статья 1: https://medium.com/nuances-of-programming/%D1%88%D0%BF%D0%B0%D1%80%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%BC-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC-%D0%B2-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D0%B0%D1%85-53820a5f3435

- Статья 2: https://tproger.ru/articles/regexp-for-beginners/
